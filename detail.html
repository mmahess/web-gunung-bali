<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detail Gunung</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        /* Semua CSS tetap sama */
        body { font-family: 'Poppins', sans-serif; margin: 0; padding: 40px 20px; background-color: #121212; color: #E0E0E0; }
        .container { max-width: 1200px; margin: auto; }
        h2 { font-size: 2em; font-weight: 600; color: #FFFFFF; border-bottom: 2px solid #66BB6A; padding-bottom: 10px; margin-top: 0; margin-bottom: 15px; }
        .back-button { display: inline-block; margin-bottom: 30px; padding: 10px 20px; font-size: 1em; background-color: #66BB6A; color: #121212; font-weight: 600; text-decoration: none; cursor: pointer; border-radius: 50px; transition: background-color 0.3s; }
        .back-button:hover { background-color: #81C784; }
        .content-area { display: flex; flex-wrap: wrap; gap: 30px; }
        .main-content { flex: 2; min-width: 300px; }
        .side-info { flex: 1; min-width: 300px; }
        #deskripsi-gabungan { line-height: 1.7; color: #BDBDBD; font-size: 0.95em; text-align: justify; }
        #map-container { position: relative; }
        #map-notice { position: absolute; top: 20px; left: 50%; transform: translateX(-50%); background-color: rgba(0, 0, 0, 0.8); color: white; padding: 10px 20px; border-radius: 20px; font-size: 14px; z-index: 10; opacity: 1; transition: opacity 0.5s ease-out; }
        #map-notice.hidden { opacity: 0; }
        #map-iframe { width: 100%; height: 75vh; border: none; border-radius: 8px; }
        .info-bawah { margin-top: 25px; }
        .info-bawah-list { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; list-style-type: none; padding: 0; }
        .info-bawah-list li { background-color: #1E1E1E; padding: 15px; border-radius: 8px; }
        .info-bawah-list li strong { display: block; color: #66BB6A; font-weight: 600; margin-bottom: 5px; font-size: 0.9em; }
        @media (max-width: 992px) { .info-bawah-list { grid-template-columns: repeat(2, 1fr); } }
        @media (max-width: 576px) { .info-bawah-list { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

<div class="container">
    <a href="index.html" class="back-button">← Lihat Gunung Lainnya</a>
    <h2 id="gunung-nama-tujuan">Memuat...</h2>
    <div class="content-area">
        <div class="main-content">
            <div id="map-container">
                <div id="map-notice">✨ Peta ini 3D & Interaktif. Coba putar dan zoom!</div>
                <iframe id="map-iframe" frameborder="0" style="outline: none;"></iframe>
            </div>
            <div class="info-bawah">
                <ul class="info-bawah-list">
                    <li><strong>Ketinggian</strong><span id="ketinggian"></span></li>
                    <li><strong>Panjang Jalur</strong><span id="panjang-jalur"></span></li>
                    <li><strong>Elevasi</strong><span id="elevasi"></span></li>
                    <li><strong>Harga Tiket</strong><span id="tiket"></span></li>
                    <li><strong>Wajib Pemandu</strong><span id="guide"></span></li>
                </ul>
            </div>
        </div>
        <div class="side-info">
            <h2>Deskripsi Gunung</h2>
            <p id="deskripsi-gabungan"></p>
        </div>
    </div>
</div>

<script>
    // PERUBAHAN: elevation:true dan profile:true ditambahkan pada iframeSrc
    const mountainData = {
        'mt01st1': { nama: 'Gunung Agung', tujuanPuncak: 'Puncak Sejati (via Taman Edelweiss)', iframeSrc: 'https://gpx.studio/embed?options=%7B%22token%22%3A%22pk.eyJ1IjoibW1lc3MiLCJhIjoiY21jazkwd3BlMGMxYTJscHhsY3NlNWYzMyJ9.HGlffY0M-HSqy8HKKT3LrA%22%2C%22ids%22%3A%5B%221ygDsvJyJWiZIzDG4mhIOYGFsKKkbXvbW%22%5D%2C%22info%22%3Afalse%2C%22controls%22%3Afalse%2C%22elevation%22%3Atrue%2C%22profile%22%3Atrue%7D', deskripsiGunung: 'Gunung tertinggi di Bali ini merupakan gunung berapi aktif yang sangat sakral bagi masyarakat Hindu Bali. Gunung Agung menjadi pusat spiritual dengan keberadaan Pura Besakih, pura terbesar dan terpenting di Bali. Pendakian ke puncaknya menantang, namun pemandangan dari atas sangat memukau.', ketinggian: '3142 mdpl', lokasi: 'Karangasem', startPoint: 'Taman Edelweiss, Desa Besakih (-8.367447826336917, 115.46548663528355)', tiket: 'Rp60.000', panjangJalur: '5.84 km', elevasi: '1856 m', deskripsiTrek: 'Dari starting point sampai basecamp treknya berupa tanah dan hutan, dari basecamp sampai puncak treknya sebagian besar pasir dan bebatuan.', wajibGuide: 'Ya' },
        'mt03st1': { nama: 'Gunung Abang', tujuanPuncak: 'Puncak Abang', iframeSrc: 'https://gpx.studio/embed?options=%7B%22token%22%3A%22pk.eyJ1IjoibW1lc3MiLCJhIjoiY21jazkwd3BlMGMxYTJscHhsY3NlNWYzMyJ9.HGlffY0M-HSqy8HKKT3LrA%22%2C%22ids%22%3A%5B%221nuIC3mB6Bq1W64PpKWIus33VJj7r2dP9%22%5D%2C%22info%22%3Afalse%2C%22controls%22%3Afalse%2C%22elevation%22%3Atrue%2C%22profile%22%3Atrue%7D', deskripsiGunung: 'Merupakan puncak tertinggi ketiga di Bali, Gunung Abang berada di kaldera Gunung Batur. Dari puncaknya, pendaki dapat menikmati pemandangan indah Danau Batur dan Gunung Batur yang aktif. Jalur pendakian cukup menantang dan cocok untuk pendaki berpengalaman.', ketinggian: '2151 mdpl', lokasi: 'Bangli', startPoint: 'Desa Suter (-8.285425, 115.407436)', tiket: 'Rp30.000', panjangJalur: '3.39 km', elevasi: '741 m', deskripsiTrek: 'Awalnya hutan rimba, kemudian hutan terbuka, dengan jalan tanah yang cukup licin.', wajibGuide: 'Tidak' }
    };

    function displayGunung(data) {
        document.title = `Detail ${data.nama}`;
        document.getElementById('gunung-nama-tujuan').textContent = `${data.nama} - ${data.tujuanPuncak}`;
        document.getElementById('map-iframe').src = data.iframeSrc;
        const deskripsiParagraf2 = `Gunung ini berlokasi di Kabupaten ${data.lokasi}. Titik awal pendakian dapat diakses melalui ${data.startPoint}. Karakteristik jalur pendakiannya adalah ${data.deskripsiTrek}.`;
        document.getElementById('deskripsi-gabungan').innerHTML = `${data.deskripsiGunung}<br><br>${deskripsiParagraf2}`;
        document.getElementById('ketinggian').textContent = data.ketinggian;
        document.getElementById('panjang-jalur').textContent = data.panjangJalur;
        document.getElementById('elevasi').textContent = data.elevasi;
        document.getElementById('tiket').textContent = data.tiket;
        document.getElementById('guide').textContent = data.wajibGuide;
    }

    document.addEventListener('DOMContentLoaded', function() {
        const notice = document.querySelector("#map-notice");
        if (notice) {
            setTimeout(() => {
                notice.classList.add('hidden');
            }, 7000);
        }

        const urlParams = new URLSearchParams(window.location.search);
        const gunungId = urlParams.get('id');
        const dataToDisplay = mountainData[gunungId];

        if (dataToDisplay) {
            displayGunung(dataToDisplay);
        } else {
            document.getElementById('gunung-nama-tujuan').textContent = 'Gunung Tidak Ditemukan';
            document.querySelector('.content-area').style.display = 'none';
        }
    });
</script>

</body>
</html>
